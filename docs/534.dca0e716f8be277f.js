"use strict";(self.webpackChunkcollection_tea=self.webpackChunkcollection_tea||[]).push([[534],{1534:(q,i,c)=>{c.r(i),c.d(i,{ProductsModule:()=>y});var n=c(6814),s=c(594),a=c(9862),t=c(9468),d=c(7942);const p=function(r){return["/products",r]};let l=(()=>{class r{constructor(){this.product={id:0,image:"",title:"",price:0,description:""}}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["product-card"]],inputs:{product:"product"},decls:10,vars:7,consts:[[1,"card","h-100"],[1,"product-image",3,"href"],["alt","tea",1,"card-img-top",3,"src"],[1,"card-body","px-4"],[1,"card-title"],[1,"card-text","mb-4"],[1,"btn","btn-primary","w-50",3,"routerLink"]],template:function(o,u){1&o&&(t.TgZ(0,"div",0)(1,"a",1),t._UZ(2,"img",2),t.qZA(),t.TgZ(3,"div",3)(4,"h5",4),t._uU(5),t.qZA(),t.TgZ(6,"p",5),t._uU(7),t.qZA(),t.TgZ(8,"a",6),t._uU(9," \u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"),t.qZA()()()),2&o&&(t.xp6(1),t.s9C("href",u.product.image,t.LSH),t.xp6(1),t.s9C("src",u.product.image,t.LSH),t.xp6(3),t.Oqu(u.product.title),t.xp6(2),t.Oqu(u.product.description.substring(0,135)+"..."),t.xp6(1),t.Q6J("routerLink",t.VKq(5,p,u.product.id)))},dependencies:[s.rH],encapsulation:2}),r})();function m(r,e){if(1&r&&(t.TgZ(0,"h2",6),t._uU(1),t.qZA()),2&r){const o=t.oxw();t.xp6(1),t.hij("\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430 \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 '",o.productService.wordSearch,"'")}}function g(r,e){1&r&&(t.TgZ(0,"h2",6),t._uU(1,"\u041d\u0430\u0448\u0438 \u0447\u0430\u0439\u043d\u044b\u0435 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438"),t.qZA())}function h(r,e){if(1&r&&(t.TgZ(0,"div",7),t._UZ(1,"product-card",8),t.qZA()),2&r){const o=e.$implicit;t.xp6(1),t.Q6J("product",o)}}function f(r,e){1&r&&(t.TgZ(0,"div",9),t._UZ(1,"div",10),t.qZA())}let v=(()=>{class r{constructor(o){this.productService=o,this.productsTea=[],this.loading=!1,this.isDataSearch=!1,this.subProducts=null,this.subSubject=null}fillingArrayProducts(o){this.loading=!0,this.subProducts=this.productService.getProducts(o).subscribe({next:u=>{this.productsTea=u,this.loading=!1},error:u=>{console.log(u),this.loading=!1}})}getDataSearch(o){if(o){let u=(new a.LE).set("search",this.productService.wordSearch);this.fillingArrayProducts(u)}else this.fillingArrayProducts()}ngOnInit(){this.getDataSearch(!!this.productService.wordSearch),this.subSubject=this.productService.searchSubject.subscribe({next:o=>{this.getDataSearch(o),this.isDataSearch=o}})}ngOnDestroy(){this.subSubject?.unsubscribe(),this.subProducts?.unsubscribe()}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(d.M))},r.\u0275cmp=t.Xpm({type:r,selectors:[["products-component"]],decls:7,vars:4,consts:[[1,"tea-items","mb-5"],[1,"container"],["class","text-center fs-2 mb-5",4,"ngIf"],[1,"row","row-cols-1","row-cols-md-2","row-cols-xxl-3","g-4","justify-content-center"],["class","col-xl-5 col-lg-6 col-md-6",4,"ngFor","ngForOf"],["class","loader-bg",4,"ngIf"],[1,"text-center","fs-2","mb-5"],[1,"col-xl-5","col-lg-6","col-md-6"],[3,"product"],[1,"loader-bg"],[1,"loader"]],template:function(o,u){1&o&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,m,2,1,"h2",2),t.YNc(3,g,2,0,"h2",2),t.TgZ(4,"div",3),t.YNc(5,h,2,1,"div",4),t.qZA()(),t.YNc(6,f,2,0,"div",5),t.qZA()),2&o&&(t.xp6(2),t.Q6J("ngIf",u.isDataSearch),t.xp6(1),t.Q6J("ngIf",!u.isDataSearch),t.xp6(2),t.Q6J("ngForOf",u.productsTea),t.xp6(1),t.Q6J("ngIf",u.loading))},dependencies:[l,n.sg,n.O5]}),r})();var b=c(4664);const P=function(){return["/order"]},Z=function(r){return{product:r}};function x(r,e){if(1&r&&(t.TgZ(0,"div",2),t._UZ(1,"img",3),t.TgZ(2,"div",4)(3,"h5",5),t._uU(4),t.qZA(),t.TgZ(5,"p",6),t._uU(6),t.qZA(),t.TgZ(7,"div",7)(8,"div",8),t._uU(9),t.ALo(10,"currency"),t.qZA(),t.TgZ(11,"a",9),t._uU(12," \u041a\u0443\u043f\u0438\u0442\u044c"),t.qZA()()()()),2&r){const o=t.oxw();t.xp6(1),t.s9C("src",o.product.image,t.LSH),t.xp6(3),t.Oqu(o.product.title),t.xp6(2),t.Oqu(o.product.description),t.xp6(3),t.Oqu(t.gM2(10,6,o.product.price,"RUB","\u0440\u0443\u0431.","1.0")),t.xp6(2),t.Q6J("routerLink",t.DdM(11,P))("queryParams",t.VKq(12,Z,o.product.title))}}function C(r,e){1&r&&(t.TgZ(0,"div",10),t._uU(1," \u0422\u0430\u043a\u043e\u0433\u043e \u0442\u043e\u0432\u0430\u0440\u0430 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442!\n"),t.qZA())}const T=[{path:"",component:v},{path:":id",component:(()=>{class r{constructor(o,u,w){this.activatedRoute=o,this.productService=u,this.router=w,this.subscriptionRouter=null,this.isError=!1,this.product={id:0,image:"",title:"",price:0,description:""}}ngOnInit(){this.subscriptionRouter=this.activatedRoute.params.pipe((0,b.w)(o=>this.productService.getProduct(+o.id))).subscribe({next:o=>{o?(this.product=o,this.isError=!1):this.isError=!0},error:o=>{this.router.navigate(["/"])}})}ngOnDestroy(){this.subscriptionRouter?.unsubscribe()}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(s.gz),t.Y36(d.M),t.Y36(s.F0))},r.\u0275cmp=t.Xpm({type:r,selectors:[["product-component"]],decls:2,vars:2,consts:[["class","card align-items-center w-75 border-0 m-auto flex-row",4,"ngIf"],["class","card align-items-center w-75 border-0 m-auto fs-2 ",4,"ngIf"],[1,"card","align-items-center","w-75","border-0","m-auto","flex-row"],["alt","tea",1,"card-img-top","h-50","w-25",3,"src"],[1,"card-body","px-5","text-start"],[1,"card-title","fs-2","pb-3"],[1,"card-text","mb-4"],[1,"d-flex","justify-content-between"],[1,"fw-bold","fs-3","w-50"],[1,"d-block","btn","btn-primary","w-50",3,"routerLink","queryParams"],[1,"card","align-items-center","w-75","border-0","m-auto","fs-2"]],template:function(o,u){1&o&&(t.YNc(0,x,13,14,"div",0),t.YNc(1,C,2,0,"div",1)),2&o&&(t.Q6J("ngIf",!u.isError),t.xp6(1),t.Q6J("ngIf",u.isError))},dependencies:[n.O5,s.rH,n.H9]}),r})()}];let S=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[s.Bz.forChild(T),s.Bz]}),r})();var A=c(6208);let y=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[A.m,n.ez,s.Bz,S]}),r})()}}]);