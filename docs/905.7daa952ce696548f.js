"use strict";(self.webpackChunkcollection_tea=self.webpackChunkcollection_tea||[]).push([[905],{905:(F,s,l)=>{l.r(s),l.d(s,{OrderModule:()=>O});var a=l(6814),d=l(594),r=l(95),u=l(9468),c=l(7942);function m(n,t){1&n&&(u.TgZ(0,"div",5),u._uU(1," \u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0437\u0430\u043a\u0430\u0437! "),u.qZA())}function p(n,t){1&n&&(u.TgZ(0,"div",28),u._uU(1," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c "),u.qZA())}function v(n,t){1&n&&(u.TgZ(0,"div",28),u._uU(1," \u0414\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0431\u0443\u043a\u0432\u044b "),u.qZA())}function f(n,t){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,p,2,0,"div",22),u.YNc(2,v,2,0,"div",22),u.qZA()),2&n){const e=u.oxw(2);u.xp6(1),u.Q6J("ngIf",null==e.nameUser||null==e.nameUser.errors?null:e.nameUser.errors.required),u.xp6(1),u.Q6J("ngIf",null==e.nameUser||null==e.nameUser.errors?null:e.nameUser.errors.pattern)}}function _(n,t){1&n&&(u.TgZ(0,"div",28),u._uU(1," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c "),u.qZA())}function x(n,t){1&n&&(u.TgZ(0,"div",28),u._uU(1," \u0414\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0431\u0443\u043a\u0432\u044b "),u.qZA())}function h(n,t){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,_,2,0,"div",22),u.YNc(2,x,2,0,"div",22),u.qZA()),2&n){const e=u.oxw(2);u.xp6(1),u.Q6J("ngIf",null==e.lastNameUser||null==e.lastNameUser.errors?null:e.lastNameUser.errors.required),u.xp6(1),u.Q6J("ngIf",null==e.lastNameUser||null==e.lastNameUser.errors?null:e.lastNameUser.errors.pattern)}}function g(n,t){1&n&&(u.TgZ(0,"div",28),u._uU(1," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c "),u.qZA())}function U(n,t){1&n&&(u.TgZ(0,"div",28),u._uU(1," \u0414\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c 11 \u0446\u0438\u0444\u0440\u044b "),u.qZA())}function Z(n,t){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,g,2,0,"div",22),u.YNc(2,U,2,0,"div",22),u.qZA()),2&n){const e=u.oxw(2);u.xp6(1),u.Q6J("ngIf",null==e.phone||null==e.phone.errors?null:e.phone.errors.required),u.xp6(1),u.Q6J("ngIf",null==e.phone||null==e.phone.errors?null:e.phone.errors.pattern)}}function C(n,t){1&n&&(u.TgZ(0,"div",28),u._uU(1," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c "),u.qZA())}function N(n,t){1&n&&(u.TgZ(0,"div",28),u._uU(1," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c "),u.qZA())}function y(n,t){1&n&&(u.TgZ(0,"div",28),u._uU(1," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c "),u.qZA())}function q(n,t){1&n&&(u.TgZ(0,"div",28),u._uU(1," \u0410\u0434\u0440\u0435\u0441 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b "),u.qZA())}function T(n,t){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,y,2,0,"div",22),u.YNc(2,q,2,0,"div",22),u.qZA()),2&n){const e=u.oxw(2);u.xp6(1),u.Q6J("ngIf",null==e.address||null==e.address.errors?null:e.address.errors.required),u.xp6(1),u.Q6J("ngIf",null==e.address||null==e.address.errors?null:e.address.errors.pattern)}}function A(n,t){1&n&&(u.TgZ(0,"div",28),u._uU(1," \u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437. "),u.qZA())}const o=function(n){return{"text-danger":n}};function E(n,t){if(1&n){const e=u.EpF();u.TgZ(0,"div",6)(1,"form",7)(2,"div",8)(3,"label",9),u._uU(4,"\u0422\u043e\u0432\u0430\u0440"),u.qZA(),u._UZ(5,"input",10),u.qZA(),u.TgZ(6,"div",11)(7,"label",12),u._uU(8," \u0418\u043c\u044f "),u.qZA(),u._UZ(9,"input",13),u.YNc(10,f,3,2,"div",14),u.qZA(),u.TgZ(11,"div",11)(12,"label",15),u._uU(13," \u0424\u0430\u043c\u0438\u043b\u0438\u044f "),u.qZA(),u._UZ(14,"input",16),u.YNc(15,h,3,2,"div",14),u.qZA(),u.TgZ(16,"div",11)(17,"label",17),u._uU(18," \u0422\u0435\u043b\u0435\u0444\u043e\u043d "),u.qZA(),u._UZ(19,"input",18),u.YNc(20,Z,3,2,"div",14),u.qZA(),u.TgZ(21,"div",19)(22,"label",20),u._uU(23," \u0421\u0442\u0440\u0430\u043d\u0430 "),u.qZA(),u._UZ(24,"input",21),u.YNc(25,C,2,0,"div",22),u.qZA(),u.TgZ(26,"div",19)(27,"label",23),u._uU(28," \u0418\u043d\u0434\u0435\u043a\u0441 "),u.qZA(),u._UZ(29,"input",24),u.YNc(30,N,2,0,"div",22),u.qZA(),u.TgZ(31,"div",8)(32,"label",9),u._uU(33," \u0410\u0434\u0440\u0435\u0441 "),u.qZA(),u._UZ(34,"input",25),u.YNc(35,T,3,2,"div",14),u.qZA(),u.TgZ(36,"div",8)(37,"label",9),u._uU(38,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a \u0437\u0430\u043a\u0430\u0437\u0443"),u.qZA(),u._UZ(39,"input",26),u.qZA(),u.TgZ(40,"div",8)(41,"button",27),u.NdJ("click",function(){u.CHM(e);const D=u.oxw();return u.KtG(D.createOrder())}),u._uU(42," \u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"),u.qZA()(),u.YNc(43,A,2,0,"div",22),u.qZA()()}if(2&n){const e=u.oxw();u.xp6(1),u.Q6J("formGroup",e.orderForm),u.xp6(6),u.Tol(u.VKq(21,o,(null==e.nameUser?null:e.nameUser.invalid)&&((null==e.nameUser?null:e.nameUser.dirty)||(null==e.nameUser?null:e.nameUser.touched)))),u.xp6(3),u.Q6J("ngIf",(null==e.nameUser?null:e.nameUser.invalid)&&((null==e.nameUser?null:e.nameUser.dirty)||(null==e.nameUser?null:e.nameUser.touched))),u.xp6(2),u.Tol(u.VKq(23,o,(null==e.lastNameUser?null:e.lastNameUser.invalid)&&((null==e.lastNameUser?null:e.lastNameUser.dirty)||(null==e.lastNameUser?null:e.lastNameUser.touched)))),u.xp6(3),u.Q6J("ngIf",(null==e.lastNameUser?null:e.lastNameUser.invalid)&&((null==e.lastNameUser?null:e.lastNameUser.dirty)||(null==e.lastNameUser?null:e.lastNameUser.touched))),u.xp6(2),u.Tol(u.VKq(25,o,(null==e.phone?null:e.phone.invalid)&&((null==e.phone?null:e.phone.dirty)||(null==e.phone?null:e.phone.touched)))),u.xp6(3),u.Q6J("ngIf",(null==e.phone?null:e.phone.invalid)&&((null==e.phone?null:e.phone.dirty)||(null==e.phone?null:e.phone.touched))),u.xp6(2),u.Tol(u.VKq(27,o,(null==e.country?null:e.country.invalid)&&((null==e.country?null:e.country.dirty)||(null==e.country?null:e.country.touched)))),u.xp6(3),u.Q6J("ngIf",(null==e.country?null:e.country.invalid)&&((null==e.country?null:e.country.dirty)||(null==e.country?null:e.country.touched))&&(null==e.country||null==e.country.errors?null:e.country.errors.required)),u.xp6(2),u.Tol(u.VKq(29,o,(null==e.index?null:e.index.invalid)&&((null==e.index?null:e.index.dirty)||(null==e.index?null:e.index.touched)))),u.xp6(3),u.Q6J("ngIf",(null==e.index?null:e.index.invalid)&&((null==e.index?null:e.index.dirty)||(null==e.index?null:e.index.touched))&&(null==e.index||null==e.index.errors?null:e.index.errors.required)),u.xp6(2),u.Tol(u.VKq(31,o,(null==e.address?null:e.address.invalid)&&((null==e.address?null:e.address.dirty)||(null==e.address?null:e.address.touched)))),u.xp6(3),u.Q6J("ngIf",(null==e.address?null:e.address.invalid)&&((null==e.address?null:e.address.dirty)||(null==e.address?null:e.address.touched))),u.xp6(6),u.Q6J("disabled",e.orderForm.invalid),u.xp6(2),u.Q6J("ngIf",e.isResponse.error)}}const I=[{path:"",component:(()=>{class n{constructor(e,i){this.activatedRouter=e,this.productService=i,this.chosenProduct="",this.isResponse={success:!1,error:!1},this.subscriptionRouter=null,this.subscriptionRequest=null,this.orderForm=new r.cw({product:new r.NI(this.chosenProduct,[r.kI.required]),nameUser:new r.NI("",[r.kI.required,r.kI.pattern("^[\u0410-\u042f\u0430-\u044f]+$")]),lastNameUser:new r.NI("",[r.kI.required,r.kI.pattern("^[\u0410-\u042f\u0430-\u044f]+$")]),phone:new r.NI("",[r.kI.required,r.kI.pattern("^[+]?[0-9]{11}$")]),country:new r.NI("",[r.kI.required]),index:new r.NI("",[r.kI.required]),address:new r.NI("",[r.kI.required,r.kI.pattern("^[\u0410-\u042f\u0430-\u044f0-9-\\/ ]+$")]),comments:new r.NI("")})}ngOnInit(){this.subscriptionRouter=this.activatedRouter.queryParams.subscribe(e=>{this.orderForm.patchValue({product:e.product})})}createOrder(){this.orderForm.valid&&(this.subscriptionRequest=this.productService.createOrder({name:this.nameUser?.value,last_name:this.lastNameUser?.value,phone:this.phone?.value,country:this.country?.value,zip:this.index?.value,product:this.product?.value,address:this.address?.value,comments:this.comments?.value}).subscribe({next:e=>{1!==e.success||e.message?(this.isResponse.error=!0,setTimeout(()=>{this.isResponse.error=!1},3e3)):this.isResponse.success=!0},error:e=>{console.log("error "+e)}}))}ngOnDestroy(){this.subscriptionRouter?.unsubscribe(),this.subscriptionRequest?.unsubscribe()}get product(){return this.orderForm.get("product")}get nameUser(){return this.orderForm.get("nameUser")}get lastNameUser(){return this.orderForm.get("lastNameUser")}get phone(){return this.orderForm.get("phone")}get address(){return this.orderForm.get("address")}get country(){return this.orderForm.get("country")}get index(){return this.orderForm.get("index")}get comments(){return this.orderForm.get("comments")}}return n.\u0275fac=function(e){return new(e||n)(u.Y36(d.gz),u.Y36(c.M))},n.\u0275cmp=u.Xpm({type:n,selectors:[["order-component"]],decls:6,vars:2,consts:[[1,"order","mb-5"],[1,"container"],[1,"text-center","fs-2","mb-4","mb-lg-5"],["class","h-50 fw-bold fs-4 col-lg-6 mx-auto text-center text-success px-2 py-5 shadow-lg rounded",4,"ngIf"],["class","order-form",4,"ngIf"],[1,"h-50","fw-bold","fs-4","col-lg-6","mx-auto","text-center","text-success","px-2","py-5","shadow-lg","rounded"],[1,"order-form"],["method","get",1,"row","g-3","col-lg-6","mx-auto",3,"formGroup"],[1,"col-12"],["for","validationDefault06",1,"form-label"],["readonly","","type","text","id","validationDefault07","formControlName","product",1,"form-control"],[1,"col-lg-12","col-xl-4"],["for","validationDefault01",1,"form-label"],["type","text","id","validationDefault01","name","name","formControlName","nameUser",1,"form-control"],[4,"ngIf"],["for","validationDefault02",1,"form-label"],["type","text","id","validationDefault02","formControlName","lastNameUser",1,"form-control"],["for","validationDefaultPhone",1,"form-label"],["type","tel","id","validationDefaultPhone","formControlName","phone",1,"form-control"],[1,"col-md-12","col-lg-6"],["for","validationDefault03",1,"form-label"],["type","text","id","validationDefault03","formControlName","country",1,"form-control"],["class","text-danger",4,"ngIf"],["for","validationIndex",1,"form-label"],["type","text","id","validationIndex","formControlName","index",1,"form-control"],["type","text","id","validationDefault06","formControlName","address",1,"form-control"],["type","text","id","validationDefault08","formControlName","comments",1,"form-control"],["type","button","id","btnSend",1,"btn","btn-primary","w-md-25",3,"disabled","click"],[1,"text-danger"]],template:function(e,i){1&e&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),u._uU(3,"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437"),u.qZA(),u.YNc(4,m,2,0,"div",3),u.YNc(5,E,44,33,"div",4),u.qZA()()),2&e&&(u.xp6(4),u.Q6J("ngIf",i.isResponse.success),u.xp6(1),u.Q6J("ngIf",i.isResponse.error||!i.isResponse.success))},dependencies:[r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,a.O5]}),n})()}];let b=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[d.Bz.forChild(I),d.Bz]}),n})(),O=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[r.u5,r.UX,a.ez,d.Bz,b]}),n})()}}]);